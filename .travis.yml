language: android

jdk:
  - oraclejdk8
# Most of our build tasks except Android depend on 1.8
#  - oraclejdk7
#  - openjdk7
#  - openjdk8

android:
  components:
    - build-tools-19.1.0
    - android-15


script: GRADLE_OPTS="-Xmx2048m" ./gradlew $TARGET

env:
  # Only compile and build basic jars
  - TARGET=assemble
  - TARGET=:jsettlers.main.android:build
  # This includes all tests
  #- TARGET=build
  # Run single test targets
  - TARGET=:jsettlers.logic:test
  - TARGET=:jsettlers.common:test
  - TARGET=:jsettlers.network:test

script: ./gradlew $TARGET


matrix:
  exclude:
    # assemble builds the swing projects. They cannot be built using JDK 1.7
    - jdk: oraclejdk7
      env: TARGET=assemble
    - jdk: openjdk7
      env: TARGET=assemble
